{"version":3,"file":"main.ad6f347e8e75e09c5023.js","mappings":"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","sources":["webpack:///./ts/drawField/drawField.ts","webpack:///./ts/getNumberOfLiveAround/getNumberOfLiveAround.ts","webpack:///./ts/getNextCellState/getNextCellState.ts","webpack:///./ts/createGameOfLive/createGameOfLive.ts","webpack:///./ts/getNextGeneration/getNextGeneration.ts","webpack:///./ts/app.ts"],"sourcesContent":["const drawField = (\n  el: HTMLElement,\n  field: Array<Array<number>>,\n  onCellClick: (x: number, y: number, isAlive: boolean) => void\n) => {\n  el.innerHTML = \"\";\n  const table = document.createElement(\"table\");\n  table.className = \"field\";\n  field.forEach((array, y) => {\n    const tr = document.createElement(\"tr\");\n    table.insertAdjacentElement(\"afterbegin\", tr);\n    array.forEach((item, x) => {\n      const td = document.createElement(\"td\");\n      td.className = \"cell\";\n      td.classList.add(`${item ? \"cell__alive\" : \"cell__death\"}`);\n      td.dataset.y = `${y}`;\n      td.dataset.x = `${x}`;\n      td.addEventListener(\"click\", () => {\n        onCellClick(x, y, Boolean(item));\n      });\n      tr.insertAdjacentElement(\"afterbegin\", td);\n    });\n  });\n  el.insertAdjacentElement(\"afterbegin\", table);\n};\n\nexport default drawField;\n","export const getNumberOfLiveAround = (\n  field: number[][],\n  x: number,\n  y: number\n) => {\n  let result = 0;\n  if (y - 1 >= 0 && y - 1 < field.length) {\n    result += field[y - 1][x - 1] ?? 0;\n    result += field[y - 1][x] ?? 0;\n    result += field[y - 1][x + 1] ?? 0;\n  }\n  if (y >= 0 && y < field.length) {\n    result += field[y][x - 1] ?? 0;\n    result += field[y][x + 1] ?? 0;\n  }\n  if (y + 1 >= 0 && y + 1 < field.length) {\n    result += field[y + 1][x - 1] ?? 0;\n    result += field[y + 1][x] ?? 0;\n    result += field[y + 1][x + 1] ?? 0;\n  }\n\n  return result;\n};\n","export default function getNextCellState(state: boolean, neighbors: number) {\n  if (state === false && neighbors === 3) {\n    return true;\n  }\n  return state === true && (neighbors === 2 || neighbors === 3);\n}\n","import drawField from \"../drawField/drawField\";\nimport { getNextGeneration } from \"../getNextGeneration/getNextGeneration\";\n\nexport const createGameOfLive = (\n  el: HTMLElement,\n  height = 20,\n  width = 20,\n  step = 1000\n) => {\n  let field: any = Array.from({ length: height }).map(() =>\n    Array.from({ length: width }).fill(0)\n  );\n\n  const app = document.createElement(\"div\") as HTMLDivElement;\n\n  const onCellClick = (x: number, y: number, isAlive: boolean): void => {\n    field[y][x] = isAlive ? 0 : 1;\n    drawField(app, field, onCellClick);\n  };\n\n  app.setAttribute(\"id\", \"app\");\n  el.insertAdjacentElement(\"afterbegin\", app);\n\n  const button = document.createElement(\"button\");\n  button.textContent = \"start\";\n  button.classList.add(\"btn__switch\");\n\n  let timerId: number;\n\n  const gameIsOver = (array: number[][]): boolean => {\n    const result = array.some((arr) => arr.some((item) => item === 1));\n    return result;\n  };\n\n  const makeGameStep = () => {\n    if (gameIsOver(field)) {\n      field = getNextGeneration(field);\n      drawField(app, field, onCellClick);\n    } else {\n      clearInterval(timerId);\n      button.textContent = \"start\";\n    }\n  };\n\n  const handlerButton = (speed: number): void => {\n    if (button.textContent === \"start\") {\n      button.textContent = \"stop\";\n      timerId = window.setInterval(makeGameStep, speed);\n    } else {\n      button.textContent = \"start\";\n      clearInterval(timerId);\n    }\n  };\n\n  const haveDrown = () => {\n    window.clearInterval(timerId);\n    const newField: any = Array.from({ length: height }).map(() =>\n      Array.from({ length: width }).fill(0)\n    );\n\n    newField.forEach((array: Array<number>, y: number) => {\n      array.forEach((item, x) => {\n        if (\n          (field[y] && field[y][x] === 0) ||\n          (field[y] && field[y][x] === 1)\n        ) {\n          newField[y][x] = field[y][x];\n        }\n      });\n    });\n\n    field = JSON.parse(JSON.stringify(newField));\n    drawField(app, field, onCellClick);\n    if (button.textContent === \"stop\") {\n      timerId = window.setInterval(makeGameStep, step);\n    }\n  };\n\n  button.addEventListener(\"click\", () => {\n    handlerButton(step);\n  });\n\n  const firstInputNum: HTMLInputElement = document.createElement(\"input\");\n  const secondInputNum: HTMLInputElement = document.createElement(\"input\");\n  const thirdInputRange: HTMLInputElement = document.createElement(\"input\");\n\n  firstInputNum.className = \"input__width\";\n  firstInputNum.setAttribute(\"type\", \"number\");\n  firstInputNum.setAttribute(\"min\", \"5\");\n  firstInputNum.setAttribute(\"max\", \"20\");\n  firstInputNum.setAttribute(\"step\", \"1\");\n  firstInputNum.setAttribute(\"placeholder\", \"width from 5 to 20\");\n\n  firstInputNum.addEventListener(\"input\", () => {\n    width = Number(firstInputNum.value);\n    if (width >= 10 && width <= 50) haveDrown();\n  });\n\n  secondInputNum.className = \"input__height\";\n  secondInputNum.setAttribute(\"type\", \"number\");\n  secondInputNum.setAttribute(\"min\", \"5\");\n  secondInputNum.setAttribute(\"max\", \"20\");\n  secondInputNum.setAttribute(\"step\", \"1\");\n  secondInputNum.setAttribute(\"placeholder\", \"height from 5 to 20\");\n\n  secondInputNum.addEventListener(\"input\", () => {\n    height = Number(secondInputNum.value);\n    if (height >= 5 && height <= 20) haveDrown();\n  });\n\n  thirdInputRange.className = \"input__range\";\n  thirdInputRange.setAttribute(\"type\", \"range\");\n  thirdInputRange.setAttribute(\"min\", \"0.5\");\n  thirdInputRange.setAttribute(\"max\", \"2\");\n  thirdInputRange.setAttribute(\"step\", \"0.5\");\n  thirdInputRange.value = \"1\";\n\n  thirdInputRange.addEventListener(\"change\", () => {\n    step = Number(thirdInputRange.value) * 1000;\n    haveDrown();\n  });\n\n  const wrapper = document.createElement(\"div\");\n  wrapper.className = \"wrapper\";\n  wrapper.insertAdjacentElement(\"beforeend\", firstInputNum);\n  wrapper.insertAdjacentElement(\"beforeend\", secondInputNum);\n  el.insertAdjacentElement(\"beforeend\", wrapper);\n  el.insertAdjacentElement(\"beforeend\", thirdInputRange);\n  el.insertAdjacentElement(\"beforeend\", button);\n  drawField(app, field, onCellClick);\n};\n","import { getNumberOfLiveAround } from \"../getNumberOfLiveAround/getNumberOfLiveAround\";\nimport getNextCellState from \"../getNextCellState/getNextCellState\";\n\nexport const getNextGeneration = (field: Array<Array<number>>) => {\n  const result = JSON.parse(JSON.stringify(field));\n  for (let y = 0; y < field.length; y++) {\n    for (let x = 0; x < field[y].length; x++) {\n      const neighbors = getNumberOfLiveAround(field, x, y);\n      const state = field[y][x] !== 0;\n      const nextState = getNextCellState(state, neighbors);\n      result[y][x] = nextState ? 1 : 0;\n    }\n  }\n  return result;\n};\n","import { createGameOfLive } from \"./createGameOfLive/createGameOfLive\";\n\ncreateGameOfLive(document.body);\n"],"names":["el","field","onCellClick","innerHTML","table","document","createElement","className","forEach","array","y","tr","insertAdjacentElement","item","x","td","classList","add","dataset","addEventListener","Boolean","getNumberOfLiveAround","result","length","getNextCellState","state","neighbors","height","width","step","Array","from","map","fill","app","isAlive","drawField","setAttribute","button","timerId","textContent","makeGameStep","some","arr","JSON","parse","stringify","nextState","getNextGeneration","clearInterval","haveDrown","window","newField","setInterval","speed","firstInputNum","secondInputNum","thirdInputRange","Number","value","wrapper","createGameOfLive","body"],"sourceRoot":""}